const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopLayout-B1w6dFrC.js","assets/vendor-DrQyEka1.js","assets/ui-Duk1sRjp.js","assets/RightPanel-C4U5D72R.js","assets/DesktopModal-BCVvd-1e.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,u as a,b as s,B as r,R as l,c as n,d}from"./vendor-DrQyEka1.js";import{A as o}from"./ui-Duk1sRjp.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i={exports:{}},c={},x=e,m=Symbol.for("react.element"),h=Symbol.for("react.fragment"),b=Object.prototype.hasOwnProperty,f=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,a){var s,r={},l=null,n=null;for(s in void 0!==a&&(l=""+a),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(n=t.ref),t)b.call(t,s)&&!u.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===r[s]&&(r[s]=t[s]);return{$$typeof:m,type:e,key:l,ref:n,props:r,_owner:f.current}}c.Fragment=h,c.jsx=p,c.jsxs=p,i.exports=c;var g=i.exports,y={},j=t;y.createRoot=j.createRoot,y.hydrateRoot=j.hydrateRoot;function v({cart:t,updateQty:r,clearCart:l}){const n=a(),[d,i]=e.useState({name:"",phone:"",address:""});e.useEffect(()=>{try{const e=JSON.parse(localStorage.getItem("customer_data")||"{}");i(t=>({...t,name:e.name||"",phone:e.phone||""}))}catch(e){}},[]);const[c,x]=e.useState(!1),[m,h]=e.useState(!1),[b,f]=e.useState(""),[u,p]=e.useState("ONLINE"),y=t.reduce((e,t)=>e+t.price*t.qty,0);if(0===t.length&&!m)return g.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[g.jsx("h3",{children:"Your cart is empty"}),g.jsx("button",{className:"btn",style:{marginTop:"1rem"},onClick:()=>n("/"),children:"Browse Menu"})]});return m?g.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"ðŸŽ‰"}),g.jsx("h2",{children:"Order Placed Successfully!"}),g.jsx("p",{style:{color:"var(--text-muted)",margin:"1rem 0"},children:"Your home-style meal will be prepared and delivered to you soon. Pay via Cash on Delivery."}),g.jsx("button",{className:"btn",onClick:()=>n("/"),children:"Back to Menu"})]}):g.jsxs("div",{style:{animation:"fadeIn 0.4s ease-out"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",background:"var(--card-bg)",backdropFilter:"blur(8px)",padding:"1rem",borderRadius:"16px",boxShadow:"var(--glass-shadow)"},children:[g.jsx("button",{onClick:()=>n("/"),style:{background:"rgba(200,85,10,0.1)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"50%",transition:"all 0.2s"},children:g.jsx(o,{size:20,color:"var(--primary)"})}),g.jsx("h2",{style:{margin:0,fontWeight:800},children:"Complete Your Order"})]}),g.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",padding:"1.5rem"},children:[g.jsxs("h3",{style:{marginBottom:"1.25rem",borderBottom:"1px solid rgba(0,0,0,0.05)",paddingBottom:"0.75rem",fontWeight:700,display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ›’"})," Order Summary"]}),t.map(e=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.85rem",alignItems:"center"},children:[g.jsxs("div",{children:[g.jsx("span",{style:{fontWeight:600},children:e.name}),g.jsxs("span",{style:{color:"var(--primary)",marginLeft:"0.5rem",fontWeight:700,background:"rgba(200,85,10,0.1)",padding:"0.1rem 0.4rem",borderRadius:"12px",fontSize:"0.8rem"},children:["x",e.qty]})]}),g.jsxs("span",{style:{fontWeight:600},children:["â‚¹",e.price*e.qty]})]},e.id)),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1.25rem",paddingTop:"1.25rem",borderTop:"2px dashed rgba(200,85,10,0.2)",fontWeight:"800",fontSize:"1.2rem"},children:[g.jsx("span",{children:"Total Amount"}),g.jsxs("span",{style:{color:"var(--primary)"},children:["â‚¹",y]})]})]}),g.jsxs("form",{onSubmit:async e=>{var a,r;e.preventDefault(),x(!0),f("");try{const e={customerName:d.name,customerPhone:d.phone,address:d.address,items:t.map(e=>({menuItemId:e.id,quantity:e.qty})),paymentMethod:u},a=(await s.post("/orders",e)).data.order.id;if("COD"===u)return h(!0),l(),void x(!1);if(!(await new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)})))return f("Failed to load Razorpay SDK. Check your internet connection."),void x(!1);const r=await s.post("/payments/create-order",{amount:y,orderType:"Instant",referenceId:a}),{id:n,isMock:o}=r.data.order;if(o){return(await s.post("/payments/verify",{razorpay_order_id:n,razorpay_payment_id:"pay_mock_"+Date.now(),razorpay_signature:"mock_signature",orderType:"Instant",referenceId:a})).data.success&&(h(!0),l()),void x(!1)}const i={key:"rzp_test_dummykey",amount:100*y,currency:"INR",name:"Maa Ki Rasoi",description:"Instant Order Checkout",order_id:n,handler:async function(e){try{(await s.post("/payments/verify",{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,orderType:"Instant",referenceId:a})).data.success&&(h(!0),l())}catch(t){f("Payment verification failed.")}},prefill:{name:d.name,contact:d.phone},theme:{color:"#C8550A"}},c=new window.Razorpay(i);c.on("payment.failed",function(e){f("Payment Failed: "+e.error.description)}),c.open()}catch(n){f((null==(r=null==(a=n.response)?void 0:a.data)?void 0:r.message)||"Error placing order. Please try again.")}finally{x(!1)}},className:"card",style:{padding:"1.5rem"},children:[g.jsxs("h3",{style:{marginBottom:"1.25rem",fontWeight:700,display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ“"})," Delivery Details"]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"0.5rem"},children:"Full Name"}),g.jsx("input",{className:"input-field",placeholder:"John Doe",required:!0,value:d.name,onChange:e=>i({...d,name:e.target.value}),style:{background:"rgba(0,0,0,0.02)",border:"1px solid transparent"}})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"0.5rem"},children:"Phone Number"}),g.jsx("input",{className:"input-field",placeholder:"10-digit mobile number",required:!0,type:"tel",pattern:"[0-9]{10}",value:d.phone,onChange:e=>i({...d,phone:e.target.value}),style:{background:"rgba(0,0,0,0.02)",border:"1px solid transparent"}})]}),g.jsxs("div",{style:{marginBottom:"1rem"},children:[g.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"0.5rem"},children:"Complete Delivery Address"}),g.jsx("textarea",{className:"input-field",placeholder:"House/Flat No., Building Name, Street, Landmark",required:!0,rows:"3",value:d.address,onChange:e=>i({...d,address:e.target.value}),style:{background:"rgba(0,0,0,0.02)",border:"1px solid transparent",resize:"vertical"}})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",padding:"0.85rem",background:"rgba(200,85,10,0.1)",borderRadius:"8px",border:"1px dashed rgba(200,85,10,0.3)",color:"var(--text-main)",fontSize:"0.9rem",fontWeight:600},children:[g.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ’µ"})," Please keep exact change ready for Cash on Delivery."]}),b&&g.jsx("div",{style:{color:"white",background:"#C0392B",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",textAlign:"center",fontSize:"0.9rem",fontWeight:600},children:b}),g.jsx("h3",{className:"mb-3 mt-4 text-sm font-bold uppercase tracking-wider text-slate-500",children:"Payment Method"}),g.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[g.jsxs("label",{className:"group relative flex cursor-pointer items-center gap-4 rounded-xl border bg-white border-gray-200 p-4 shadow-sm transition-all hover:border-brand-saffron/50 has-[input:checked]:border-brand-saffron has-[input:checked]:bg-brand-saffron/5",children:[g.jsx("input",{checked:"ONLINE"===u,onChange:()=>p("ONLINE"),className:"peer h-5 w-5",name:"payment_method_instant",type:"radio"}),g.jsx("div",{className:"flex flex-col flex-1 pl-2 text-left",children:g.jsx("p",{className:"text-sm font-bold m-0 leading-none",children:"Pay Online (UPI / Card)"})})]}),g.jsxs("label",{className:"group relative flex cursor-pointer items-center gap-4 rounded-xl border bg-white border-gray-200 p-4 shadow-sm transition-all hover:border-brand-saffron/50 has-[input:checked]:border-brand-saffron has-[input:checked]:bg-brand-saffron/5",children:[g.jsx("input",{checked:"COD"===u,onChange:()=>p("COD"),className:"peer h-5 w-5",name:"payment_method_instant",type:"radio"}),g.jsx("div",{className:"flex flex-col flex-1 pl-2 text-left",children:g.jsx("p",{className:"text-sm font-bold m-0 leading-none",children:"Cash on Delivery"})})]})]}),g.jsx("button",{className:"btn btn-block",disabled:c,style:{padding:"1rem",fontSize:"1.1rem",background:"linear-gradient(90deg, #C8550A 0%, #E8712A 100%)",boxShadow:"0 4px 15px rgba(200, 85, 10, 0.4)"},children:c?g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx("span",{className:"spinner",children:"â†»"})," Processing Order..."]}):g.jsxs("span",{children:["Place Order â€¢ â‚¹",y]})})]})]})}const k={},N=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in k)return;k[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,a)=>{r.addEventListener("load",t),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function w(){const t=()=>{const e=window.innerWidth;return{isMobile:e<=768,isTablet:e>=769&&e<=1024,isDesktop:e>=1025,isWide:e>=1280}},[a,s]=e.useState(t);return e.useEffect(()=>{let e;const a=()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>s(t()))};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(e)}},[]),a}function _({children:e,activeTab:t,onTabChange:a}){return g.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden max-w-md mx-auto bg-brand-cream dark:bg-brand-dark shadow-xl font-display text-slate-900 pb-[72px]",children:[e,g.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 dark:bg-[#181511]/95 backdrop-blur-md border-t border-gray-200 dark:border-gray-800 max-w-md mx-auto",children:g.jsx("div",{className:"flex justify-between items-center px-4 pb-safe pt-2",children:[{id:"home",icon:"home",label:"Home"},{id:"menu",icon:"restaurant_menu",label:"Menu"},{id:"orders",icon:"receipt_long",label:"Orders"},{id:"profile",icon:"person",label:"Profile"}].map(e=>{const s=t===e.id;return g.jsx("button",{onClick:()=>a(e.id),className:"flex flex-1 flex-col items-center justify-end gap-1 pb-2 transition-colors group "+(s?"text-brand-saffron":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"),children:g.jsxs("div",{className:"flex flex-col items-center "+(s?"bg-brand-saffron/10 px-4 py-0.5 rounded-full":""),children:[g.jsx("span",{className:"material-symbols-outlined text-2xl transition-transform group-hover:-translate-y-0.5 "+(s?"fill-current":""),children:e.icon}),g.jsx("span",{className:"text-[10px] sm:text-xs leading-none mt-1 "+(s?"font-bold":"font-medium"),children:e.label})]})},e.id)})})})]})}function S({title:e,subtitle:t,image:a,tags:s=[],onAction:r}){return g.jsxs("div",{className:"group relative overflow-hidden rounded-tiffin shadow-lg border border-gray-100 dark:border-gray-800",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent z-10"}),g.jsx("img",{alt:e,className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-500",src:a}),g.jsx("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:s.map((e,t)=>g.jsx("span",{className:"px-2 py-0.5 rounded-md bg-white/20 backdrop-blur-sm text-white text-[10px] font-bold uppercase tracking-wider border border-white/10",children:e},t))}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-5 z-20",children:g.jsxs("div",{className:"flex items-end justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:e}),g.jsx("p",{className:"text-gray-200 text-sm font-medium line-clamp-1",children:t})]}),r&&g.jsx("button",{onClick:r,className:"bg-white text-slate-900 h-10 w-10 rounded-full flex items-center justify-center shadow-lg active:scale-95 transition-transform",children:g.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})})]})})]})}function C({message:e,type:t="info",icon:a}){const s="success"===t;return g.jsxs("div",{className:"flex items-center gap-2 mb-3 px-3 py-2 rounded-lg text-sm font-bold "+(s?"bg-brand-green/10 text-brand-green border border-brand-green/20":"bg-brand-saffron/10 text-brand-saffron border border-brand-saffron/20"),children:[a&&g.jsx("span",{className:"material-symbols-outlined text-[18px]",children:a}),g.jsx("span",{children:e})]})}function P({subscriptions:e=[],onManageClick:t,onExploreClick:a}){var s,r;const l=JSON.parse(localStorage.getItem("customer_data")||"{}"),n=e.find(e=>"Active"===e.status),d=null==(s=null==n?void 0:n.deliveries)?void 0:s[0],o=(null==(r=l.name)?void 0:r.split(" ")[0])||"Customer";return g.jsxs("main",{className:"flex-1 p-5 md:p-8 lg:p-10 space-y-6 pb-32 md:pb-10",children:[g.jsxs("header",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold tracking-tight text-slate-900 dark:text-white capitalize font-heading",children:["Hello, ",o,"! ðŸ‘‹"]}),g.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:n?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"capitalize",children:n.planType})," Pure Veg Plan â€¢ ",g.jsx("span",{className:"text-brand-green font-bold",children:"Active"})]}):g.jsx("span",{children:"No active plan"})})]}),g.jsx("div",{className:"h-10 w-10 md:hidden rounded-full bg-brand-saffron/10 flex items-center justify-center text-brand-saffron border border-brand-saffron/20 capitalize font-bold",children:o.charAt(0)})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsx("div",{className:"space-y-4",children:g.jsxs("section",{className:"relative",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-900 dark:text-white",children:"Your Next Meal"}),d&&g.jsxs("span",{className:"text-xs font-bold bg-brand-green/10 text-brand-green px-2 py-1 rounded-full",children:[new Date(d.deliveryDate).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," â€¢ ",d.mealType]})]}),n&&d?g.jsx(S,{title:"Pure Veg Ghar Ka Khana",subtitle:"Dal Tadka, Sabzi, Rice, 3 Rotis",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCn5WRfuP-mNB5rtMQEMXgvPQ9qdY68cmNoOkTLqZve4qs9riUQ7db6vKkvUmDKJ8IhZYryISONHkTIuWzqR8WYLgMz7GUCVKX4o7q3jV47b8HBZnjMde1auW2Nj-RBjAasxahXXTSqr_KdFc4BHKEvD2vW4JujWFJpG9RROM7ZFr8PvBBVsbjvnddjGKiigxeEK0px1AQpTZOq4I0HtNDcbC-K2LUtq8ejWebW5QisqTPZDFHMye_NW-_rCnJmFz6nONBShxiyreal",tags:[`Upcoming ${d.mealType}`],onAction:()=>alert("Meal Details")}):g.jsxs("div",{className:"bg-white dark:bg-brand-dark/50 p-6 md:p-8 rounded-xl border border-gray-100 dark:border-gray-800 text-center shadow-sm",children:[g.jsx("span",{className:"material-symbols-outlined text-4xl md:text-5xl text-slate-300 mb-2",children:"restaurant"}),g.jsx("h3",{className:"text-slate-900 dark:text-white font-bold md:text-lg",children:"Nothing scheduled"}),g.jsx("p",{className:"text-slate-500 text-sm mt-1 mb-4",children:"You don't have any meals arriving soon. Start a plan to get home-cooked food delivered daily."}),g.jsx("button",{onClick:a,className:"px-4 py-2 md:px-6 md:py-3 bg-brand-saffron text-white font-bold rounded-lg shadow-md shadow-brand-saffron/20 hover:bg-brand-saffron-dark transition-colors",children:"See Menu & Plans"})]}),n&&g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[g.jsxs("button",{onClick:t,className:"flex flex-col items-center justify-center p-3 md:p-4 rounded-xl bg-brand-saffron/10 border border-brand-saffron/30 active:scale-98 hover:bg-brand-saffron/15 transition-all group",children:[g.jsx("span",{className:"material-symbols-outlined text-brand-saffron mb-1 group-hover:scale-110 transition-transform",children:"settings"}),g.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:"Manage Plan"}),g.jsx("span",{className:"text-[10px] text-slate-500",children:"Pause or Renew"})]}),g.jsxs("button",{onClick:t,className:"flex flex-col items-center justify-center p-3 md:p-4 rounded-xl bg-white/50 border border-gray-200 dark:border-gray-700 active:scale-98 hover:bg-white transition-all group",children:[g.jsx("span",{className:"material-symbols-outlined text-slate-600 mb-1 group-hover:scale-110 transition-transform",children:"edit_calendar"}),g.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:"Delivery Days"}),g.jsx("span",{className:"text-[10px] text-slate-500",children:"View Schedule"})]})]})]})}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(C,{type:"info",icon:"school",message:"Student Offer: Refer a friend, get 3 FREE meals! Tap to details."}),g.jsxs("section",{className:"bg-white p-4 md:p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h3",{className:"font-bold text-slate-800",children:"Want more variety?"}),g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"restaurant_menu"})]}),g.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Discover our Weekly and Monthly subscription plans for the best value."}),g.jsx("button",{onClick:a,className:"w-full py-3 bg-brand-saffron/10 text-brand-saffron font-bold text-sm rounded-lg border border-brand-saffron/20 active:scale-95 hover:bg-brand-saffron/15 transition-all",children:"Explore Plans"})]})]})]})]})}function T({onBack:t,subscriptions:a=[],onUpdate:r}){const l=a.find(e=>"Active"===e.status||"Paused"===e.status),[n,d]=e.useState(!1),{isMobile:o}=w();if(!l)return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark pb-24 md:pb-8 overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"sticky top-0 z-50 flex items-center bg-white/90 dark:bg-[#2d2418]/90 p-4 pb-2 justify-between border-b border-gray-100 dark:border-gray-800 backdrop-blur-md",children:[g.jsx("button",{onClick:t,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center cursor-pointer hover:opacity-70 transition-opacity",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),g.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12 font-heading",children:"Manage Active Plan"})]}),g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center mt-20",children:[g.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-300 mb-4",children:"event_busy"}),g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No Active Plan"}),g.jsx("p",{className:"text-gray-500 mb-6",children:"You don't have any active meal subscription."}),g.jsx("button",{onClick:t,className:"px-6 py-2 bg-brand-saffron text-white font-bold rounded-lg shadow-md hover:bg-brand-saffron-dark transition-colors",children:"Browse Plans"})]})]});return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark pb-24 md:pb-8 overflow-y-auto no-scrollbar",children:[g.jsxs("div",{className:"sticky top-0 z-50 flex items-center bg-white/90 dark:bg-[#2d2418]/90 p-4 pb-2 justify-between border-b border-gray-100 dark:border-gray-800 backdrop-blur-md",children:[g.jsx("button",{onClick:t,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center cursor-pointer hover:opacity-70 transition-opacity",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),g.jsx("h2",{className:"text-slate-900 dark:text-white text-lg md:text-xl font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12 font-heading",children:"Manage Active Plan"})]}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 md:p-6 lg:p-8",children:[g.jsxs("div",{className:"flex flex-col gap-4 rounded-xl bg-white dark:bg-[#2d2418] p-5 md:p-6 shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-1 flex-[2_2_0px]",children:[g.jsx("p",{className:"text-brand-saffron text-xs font-bold uppercase tracking-wider mb-1",children:"Current Plan"}),g.jsxs("h3",{className:"text-slate-900 dark:text-white text-xl md:text-2xl font-bold leading-tight capitalize",children:[l.planType," Pure Veg"]}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[g.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"calendar_today"}),g.jsxs("p",{className:"text-gray-500 text-sm font-medium leading-normal",children:["Valid until ",new Date(l.endDate).toLocaleDateString()]})]})]}),g.jsx("div",{className:"w-20 h-20 bg-center bg-no-repeat bg-cover rounded-xl shadow-inner border border-gray-100 dark:border-gray-700 flex-shrink-0",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuCGlGRd_WWFCu3VWXCsXfRnxjz1ikZkqley-3kWWgnza1UHD99gP7gvK_fT0Pi_I-DOR85tMwkRnUVV8Xvpemk_ppJfNbyc_Inwho59JyJ1HNuqZkpineJmTmaVbvmStAO7UGXlW0EwbvAxMDrzq7-eHExHninE0ck8wqXdKgVlndnOkbdrN8U7CZuZZExE6_5586t4Gcf4VCmXPtUknGjfORbbvt79ZOxYNUorqRhXH0NfVkesYsl8FsUWtp0dLXHrWD0DH0ObITsr')"}})]}),g.jsx("div",{className:"flex flex-col gap-3 mt-2",children:g.jsxs("div",{className:"flex gap-6 justify-between items-end",children:[g.jsxs("p",{className:"text-slate-900 dark:text-white text-lg font-bold leading-none",children:["Status: ",g.jsx("span",{className:"Active"===l.status?"text-green-500":"text-amber-500",children:l.status})]}),g.jsxs("p",{className:"text-gray-500 text-sm font-bold leading-normal text-brand-saffron",children:["â‚¹",l.totalPrice]})]})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"rounded-xl bg-white dark:bg-[#2d2418] p-5 md:p-6 shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight",children:"Master Pause"}),g.jsx("span",{className:"text-xs text-brand-saffron font-medium bg-brand-saffron/10 px-2 py-1 rounded-full",children:"Suspend deliveries"})]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mb-5",children:"Going out of town? You can pause your entire subscription here. We will not deliver any meals or charge your daily quota until you reactivate it."}),g.jsx("button",{onClick:async()=>{d(!0);try{const e="Active"===l.status?"Paused":"Active";await s.patch(`/subscriptions/${l.id}/status`,{status:e}),r&&await r()}catch(e){alert("Failed to update status")}finally{d(!1)}},disabled:n,className:"w-full py-3 rounded-lg font-bold text-white transition-all shadow-md active:scale-95 hover:shadow-lg "+("Active"===l.status?"bg-amber-500 hover:bg-amber-600":"bg-green-500 hover:bg-green-600"),children:n?"Processing...":"Active"===l.status?"Pause Subscription":"Re-Activate Subscription"}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-blue-500/10 p-3 rounded-lg border border-blue-500/20",children:[g.jsx("span",{className:"material-symbols-outlined text-blue-500 text-sm",children:"info"}),g.jsx("p",{className:"text-blue-600 dark:text-blue-200 text-xs",children:"Note: Active daily management calendar is coming in v2."})]})]}),g.jsx("button",{onClick:t,className:"w-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold text-lg py-4 rounded-xl shadow-lg transition-all active:scale-[0.98] hover:shadow-xl",children:"Done"})]})]})}),o&&g.jsx("div",{className:"fixed bottom-0 w-full bg-white/80 dark:bg-[#181511]/80 backdrop-blur-xl border-t border-gray-200 dark:border-gray-800 p-4 pb-8 z-50 max-w-md md:hidden",children:g.jsx("button",{onClick:t,className:"w-full bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold text-lg py-4 rounded-xl shadow-lg transition-all active:scale-[0.98]",children:"Done"})})]})}function z({onBack:e,onCheckout:t}){return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark overflow-y-auto pb-24 md:pb-8 no-scrollbar",children:[g.jsx("header",{className:"sticky top-0 z-20 bg-white/80 dark:bg-[#221b10]/80 backdrop-blur-md border-b border-gray-200 dark:border-white/5 px-4 md:px-6 py-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:e,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors md:hidden",children:g.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-slate-100",children:"arrow_back"})}),g.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-900 dark:text-slate-100 font-heading",children:"Choose Your Plan"}),g.jsx("button",{className:"text-brand-saffron text-sm font-bold hover:text-brand-saffron/80 transition-colors",children:"Help"})]})}),g.jsxs("main",{className:"flex flex-col gap-6 p-4 md:p-6 lg:p-8",children:[g.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[g.jsxs("h2",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 dark:text-white leading-tight",children:["Unlock Daily ",g.jsx("br",{}),g.jsx("span",{className:"text-brand-saffron",children:"Home-Cooked Meals"})]}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Experience the warmth of Maa Ki Rasoi. Simple, healthy, and delivered to your door."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[g.jsxs("div",{className:"group relative flex flex-col gap-4 rounded-2xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-[#2d2418] p-5 shadow-sm hover:shadow-md transition-all duration-300",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white group-hover:text-brand-saffron transition-colors",children:"Weekly Trial"}),g.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Perfect for testing the taste"})]}),g.jsx("div",{className:"bg-slate-100 dark:bg-white/5 px-3 py-1 rounded-full border border-slate-200 dark:border-white/10",children:g.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-slate-200",children:"â‚¹114/meal"})})]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-3xl font-extrabold text-slate-900 dark:text-white",children:"â‚¹800"}),g.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"/ week"})]}),g.jsx("div",{className:"h-px w-full bg-gray-100 dark:bg-white/5"}),g.jsx("button",{onClick:()=>t({planType:"Weekly",mealType:"Lunch",dietaryPreference:"Veg"}),className:"mt-2 w-full py-3 rounded-xl bg-slate-900 dark:bg-white/10 text-white font-bold text-sm hover:bg-brand-saffron dark:hover:bg-brand-saffron transition-colors active:scale-95",children:"Subscribe for â‚¹800"})]}),g.jsxs("div",{className:"relative flex flex-col gap-4 rounded-2xl border-2 border-brand-saffron bg-white dark:bg-[#2d2418] p-6 shadow-xl shadow-brand-saffron/10 md:scale-100 scale-[1.02] z-10",children:[g.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-brand-saffron text-slate-900 px-4 py-1 rounded-full text-xs font-extrabold tracking-wide uppercase shadow-sm",children:"Best Value"}),g.jsx("div",{className:"flex justify-between items-start mt-2",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("h3",{className:"text-xl font-extrabold text-slate-900 dark:text-white",children:"Monthly Standard"}),g.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Our most popular plan"})]})}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight",children:"â‚¹3000"}),g.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"/ month"})]}),g.jsxs("ul",{className:"flex flex-col gap-3 mt-2",children:[g.jsxs("li",{className:"flex items-center gap-3 text-sm font-medium text-slate-700 dark:text-slate-200",children:[g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"check_circle"}),"30 Days Lunch"]}),g.jsxs("li",{className:"flex items-center gap-3 text-sm font-medium text-slate-700 dark:text-slate-200",children:[g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"check_circle"}),g.jsx("span",{className:"text-brand-saffron font-bold",children:"Free Delivery"})]})]}),g.jsx("button",{onClick:()=>t({planType:"Monthly",mealType:"Lunch",dietaryPreference:"Veg"}),className:"mt-2 w-full py-4 rounded-xl bg-brand-saffron text-slate-900 font-extrabold text-base shadow-lg shadow-brand-saffron/25 hover:-translate-y-0.5 transition-all active:scale-95",children:"Subscribe Now"})]})]})]})]})}function D({onBack:t,cart:r,addToCart:l}){const n=a(),[d,o]=e.useState([]),{isMobile:i}=w();e.useEffect(()=>{(async()=>{try{const e=await s.get("/menu");o(e.data.data.filter(e=>e.isAvailable))}catch(e){}})()},[]);const c=r.reduce((e,t)=>e+t.qty,0);return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark pb-24 md:pb-8",children:[g.jsxs("header",{className:"sticky top-0 z-50 bg-white/95 dark:bg-[#2d2418]/95 backdrop-blur-md border-b border-gray-100 dark:border-gray-800 transition-colors duration-200",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3",children:[i&&g.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-slate-800 dark:text-slate-200",children:g.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),g.jsx("h1",{className:"text-lg md:text-xl font-bold text-slate-900 dark:text-slate-100 font-heading",children:i?"Daily Menu":"Today's Menu"}),g.jsxs("button",{onClick:()=>n("/checkout"),className:"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-slate-800 dark:text-slate-200",children:[g.jsx("span",{className:"material-symbols-outlined",children:"shopping_bag"}),c>0&&g.jsx("span",{className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-brand-saffron text-[10px] font-bold text-white border-2 border-white dark:border-[#2d2418]",children:c})]})]}),g.jsx("div",{className:"px-4 md:px-6 pb-0 pt-2",children:g.jsxs("div",{className:"flex space-x-4 overflow-x-auto no-scrollbar pb-3 snap-x",children:[g.jsxs("button",{className:"snap-start flex flex-col items-center justify-center min-w-[4.5rem] py-3 rounded-2xl bg-brand-saffron text-white shadow-lg shadow-brand-saffron/30 transition-transform active:scale-95 hover:shadow-xl",children:[g.jsx("span",{className:"text-xs font-medium opacity-90 uppercase tracking-wide",children:"Mon"}),g.jsx("span",{className:"text-xl font-bold",children:"12"})]}),[13,14,15,16,17].map((e,t)=>g.jsxs("button",{className:"snap-start flex flex-col items-center justify-center min-w-[4.5rem] py-3 rounded-2xl bg-white dark:bg-[#2d2418] border border-gray-200 dark:border-gray-700 text-slate-500 dark:text-slate-400 hover:border-brand-saffron/50 transition-colors active:scale-95",children:[g.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:["Tue","Wed","Thu","Fri","Sat"][t]}),g.jsx("span",{className:"text-xl font-bold text-slate-800 dark:text-slate-200",children:e})]},t))]})})]}),g.jsxs("main",{className:"flex flex-col gap-6 p-4 md:p-6 lg:p-8 mt-2",children:[0===d.length?g.jsx("div",{className:"text-center p-8 text-slate-500",children:"Loading today's exquisite selection..."}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:d.map(e=>g.jsx("div",{className:"group bg-white dark:bg-[#2d2418] rounded-2xl shadow-sm overflow-hidden transition-all hover:shadow-lg hover:-translate-y-0.5 border border-gray-100 dark:border-gray-800",children:g.jsxs("div",{className:"p-5",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:e.category}),g.jsxs("span",{className:"text-lg font-bold text-brand-saffron",children:["â‚¹",e.price]})]}),g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 leading-tight mb-2",children:e.name}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-4",children:e.description}),g.jsxs("button",{onClick:()=>l(e),className:"w-full mt-2 py-3 border border-brand-saffron/20 rounded-xl bg-brand-saffron/10 text-brand-saffron font-bold text-sm shadow-sm flex items-center justify-center gap-2 active:scale-95 hover:bg-brand-saffron hover:text-white transition-all",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"add_shopping_cart"}),"Add to Order"]})]})},e.id))}),g.jsx("div",{className:"h-8"})]})]})}function O({orders:e=[],subscriptions:t=[],onBack:a,onExtendPlan:s,onReviewMeal:r,onRepeatMeal:l}){const n=e.length,{isMobile:d}=w();return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark pb-24 md:pb-8",children:[g.jsxs("header",{className:"sticky top-0 z-20 flex items-center justify-between bg-white/95 dark:bg-[#2d2418]/95 backdrop-blur-md px-4 md:px-6 py-4 border-b border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[d&&g.jsx("button",{onClick:a,className:"flex items-center justify-center rounded-full w-10 h-10 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-slate-100",children:"arrow_back"})}),g.jsx("h1",{className:"text-xl md:text-2xl font-bold tracking-tight text-slate-900 dark:text-slate-100 font-heading",children:"Your Meal History"})]}),g.jsx("button",{className:"relative p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 text-brand-saffron",children:g.jsx("span",{className:"material-symbols-outlined",children:"filter_list"})})]}),g.jsxs("main",{className:"flex-1 px-4 md:px-6 lg:px-8 py-6 space-y-8",children:[g.jsxs("section",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-xl bg-white dark:bg-[#2d2418] shadow-sm p-4 border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow",children:[g.jsx("p",{className:"text-3xl font-bold text-brand-saffron",children:n}),g.jsxs("div",{className:"flex items-center gap-1.5 opacity-80 text-slate-600 dark:text-slate-400",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"history"}),g.jsx("p",{className:"text-xs font-medium uppercase tracking-wider",children:"Past Orders"})]})]}),g.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-xl bg-white dark:bg-[#2d2418] shadow-sm p-4 border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow",children:[g.jsx("p",{className:"text-3xl font-bold text-brand-saffron",children:"4.8"}),g.jsxs("div",{className:"flex items-center gap-1.5 opacity-80 text-slate-600 dark:text-slate-400",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"star"}),g.jsx("p",{className:"text-xs font-medium uppercase tracking-wider",children:"Avg Rating"})]})]}),g.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center gap-1 rounded-xl bg-white dark:bg-[#2d2418] shadow-sm p-4 border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow",children:[g.jsx("p",{className:"text-3xl font-bold text-brand-green",children:t.filter(e=>"Active"===e.status).length}),g.jsxs("div",{className:"flex items-center gap-1.5 opacity-80 text-slate-600 dark:text-slate-400",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"check_circle"}),g.jsx("p",{className:"text-xs font-medium uppercase tracking-wider",children:"Active Plans"})]})]}),g.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center gap-1 rounded-xl bg-white dark:bg-[#2d2418] shadow-sm p-4 border border-gray-100 dark:border-gray-800 hover:shadow-md transition-shadow",children:[g.jsxs("p",{className:"text-3xl font-bold text-slate-700 dark:text-slate-300",children:["â‚¹",e.reduce((e,t)=>e+(t.totalAmount||0),0)]}),g.jsxs("div",{className:"flex items-center gap-1.5 opacity-80 text-slate-600 dark:text-slate-400",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"payments"}),g.jsx("p",{className:"text-xs font-medium uppercase tracking-wider",children:"Total Spent"})]})]})]}),g.jsxs("div",{className:"rounded-xl bg-gradient-to-r from-brand-saffron/20 to-brand-saffron/5 p-4 border border-brand-saffron/20 flex items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-base text-brand-saffron",children:"Love Maa's Food?"}),g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:"Extend your monthly plan and get 10% off."})]}),g.jsx("button",{onClick:s,className:"whitespace-nowrap rounded-lg bg-brand-saffron px-4 py-2 text-sm font-bold text-white shadow-lg shadow-brand-saffron/20 hover:bg-brand-saffron-dark transition-all",children:"Extend Plan"})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-900 dark:text-slate-100",children:"Past Orders"}),0===e.length?g.jsx("div",{className:"text-center p-8 bg-white dark:bg-brand-dark/50 rounded-xl border border-gray-100 dark:border-gray-800",children:g.jsx("p",{className:"text-slate-500",children:"You haven't placed any orders yet."})}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>{var t,a;return g.jsxs("div",{className:"group relative flex flex-col gap-4 rounded-xl bg-white dark:bg-[#2d2418] p-4 shadow-sm border border-gray-100 dark:border-gray-800 hover:shadow-md hover:-translate-y-0.5 transition-all",children:[g.jsx("div",{className:"flex items-start justify-between",children:g.jsxs("div",{className:"flex gap-3 w-full",children:[g.jsx("div",{className:"h-16 w-16 shrink-0 overflow-hidden rounded-lg bg-brand-saffron/10 flex items-center justify-center text-brand-saffron",children:g.jsx("span",{className:"material-symbols-outlined text-3xl",children:"receipt_long"})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("h3",{className:"font-bold text-base leading-tight text-slate-900 dark:text-slate-100",children:["Order #",e.id.slice(0,8)]}),g.jsxs("span",{className:"text-brand-saffron font-bold",children:["â‚¹",e.totalAmount]})]}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[new Date(e.createdAt).toLocaleDateString()," â€¢ ",(null==(t=e.items)?void 0:t.length)||0," items"]}),g.jsxs("div",{className:"mt-2 flex items-center gap-1 rounded-full bg-slate-100 dark:bg-slate-800 px-2 py-0.5 w-fit",children:[g.jsx("span",{className:"h-1.5 w-1.5 rounded-full "+("Delivered"===e.status?"bg-green-500":"bg-brand-saffron")}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide "+("Delivered"===e.status?"text-green-600":"text-brand-saffron"),children:e.status})]})]})]})}),g.jsx("div",{className:"text-xs text-slate-500 border-t border-gray-100 dark:border-gray-800 pt-2",children:null==(a=e.items)?void 0:a.map(e=>{var t;return g.jsx("div",{className:"flex justify-between",children:g.jsxs("span",{children:[e.quantity,"x ",(null==(t=e.menuItem)?void 0:t.name)||"Item"]})},e.id)})})]},e.id)})})]})]})]})}function A({onLogout:t,onManageSubscription:a,onSupportClick:s}){const[r,l]=e.useState(!1),[n,d]=e.useState(null),{isMobile:o}=w();e.useEffect(()=>{l(document.documentElement.classList.contains("dark"));const e=localStorage.getItem("customer_data");if(e)try{d(JSON.parse(e))}catch(t){}},[]);return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark overflow-y-auto no-scrollbar pb-24 md:pb-8",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 pt-6 md:p-6 bg-brand-cream dark:bg-[#2d2418] sticky top-0 z-20 border-b border-gray-100 dark:border-gray-800",children:[g.jsx("h2",{className:"text-slate-900 dark:text-white text-lg md:text-2xl font-bold leading-tight tracking-[-0.015em] ml-2 font-heading",children:"Profile & Settings"}),g.jsx("button",{className:"text-slate-900 dark:text-white flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"notifications"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 md:p-6 lg:p-8",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center md:items-start md:flex-row md:gap-5 pt-2",children:[g.jsxs("div",{className:"relative group cursor-pointer shrink-0",children:[g.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-28 w-28 md:h-20 md:w-20 border-4 border-white dark:border-[#2d2418] shadow-lg",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuCPvboZp9gcnjYOYBP57Qb6UYUcm0X_MH9O56828bEVYLsw_S-1d_ah8PlF6MmODNUBxImZezYatfJPbjleSoAkMFmEFEGLZ_HNO3rjwPQv5EG1q2OqbEgLpprGGVFRMOojg5uGhj5vx9TgMqL3Gkiu22UpQWk5bXudDP1LyK6Ea9Q5DhrGrtDQzgRZ9t1WkTAaEbVJ_okqjLmaHU1loYJ47SC_-UfZdQP80bA7OCiptmyIVAqes94Q-JeDfjBApmoiDV3QBxi0qXBY')"}}),g.jsx("div",{className:"absolute bottom-0 right-0 bg-brand-saffron text-white p-1.5 rounded-full border-2 border-brand-cream dark:border-brand-dark flex items-center justify-center shadow-md",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit"})})]}),g.jsxs("div",{className:"mt-4 md:mt-0 text-center md:text-left",children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white capitalize",children:(null==n?void 0:n.name)||"Customer"}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-sm mt-1",children:["+91 ",(null==n?void 0:n.phone)||"..."]})]})]}),g.jsxs("div",{className:"bg-white dark:bg-[#2d2418] rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-800 relative overflow-hidden group hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-saffron/10 rounded-full blur-2xl -mr-10 -mt-10"}),g.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-1",children:"Active Plan"}),g.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Standard Veg Thali"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Next delivery: Today, 1:00 PM"})]}),g.jsx("div",{className:"bg-brand-saffron/20 text-brand-saffron px-3 py-1 rounded-lg",children:g.jsx("span",{className:"text-xs font-bold",children:"LUNCH"})})]}),g.jsxs("div",{className:"mt-5 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-sm font-medium text-brand-saffron",children:"12 Meals Remaining"}),g.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Expires 25 Aug"})]}),g.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:g.jsx("div",{className:"bg-brand-saffron h-2 rounded-full w-[60%]"})})]}),g.jsxs("button",{onClick:a,className:"mt-4 w-full py-2.5 rounded-lg border border-gray-200 dark:border-gray-700 text-sm font-bold text-slate-700 dark:text-slate-200 hover:bg-gray-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[g.jsx("span",{children:"Manage Subscription"}),g.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward"})]})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"px-2 text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"App Settings"}),g.jsxs("div",{className:"bg-white dark:bg-[#2d2418] rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-gray-800",children:[g.jsxs("button",{onClick:()=>{r?(document.documentElement.classList.remove("dark"),l(!1)):(document.documentElement.classList.add("dark"),l(!0))},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-b border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"size-9 rounded-lg bg-indigo-500/10 text-indigo-500 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:r?"light_mode":"dark_mode"})}),g.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:r?"Light Mode":"Dark Mode"})]}),g.jsxs("label",{className:"relative inline-flex cursor-pointer items-center pointer-events-none",children:[g.jsx("input",{type:"checkbox",className:"peer sr-only",checked:r,readOnly:!0}),g.jsx("div",{className:"peer h-6 w-11 rounded-full bg-slate-300 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-brand-saffron peer-checked:after:translate-x-full peer-checked:after:border-white dark:bg-slate-700"})]})]}),g.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-b border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"size-9 rounded-lg bg-blue-500/10 text-blue-500 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"location_on"})}),g.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Manage Addresses"})]}),g.jsx("span",{className:"material-symbols-outlined text-slate-400 text-xl",children:"chevron_right"})]})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"px-2 text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Support & Legal"}),g.jsxs("div",{className:"bg-white dark:bg-[#2d2418] rounded-xl overflow-hidden shadow-sm border border-gray-100 dark:border-gray-800",children:[g.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-b border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"size-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-slate-600 dark:text-slate-300 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"help"})}),g.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Help & Support"})]}),g.jsx("span",{className:"material-symbols-outlined text-slate-400 text-xl",children:"chevron_right"})]}),g.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-b border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"size-9 rounded-lg bg-gray-100 dark:bg-gray-700 text-slate-600 dark:text-slate-300 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:"description"})}),g.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Terms & Conditions"})]}),g.jsx("span",{className:"material-symbols-outlined text-slate-400 text-xl",children:"chevron_right"})]})]})]}),o&&g.jsxs("div",{className:"flex flex-col items-center gap-4 mt-4 mb-4",children:[g.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-500 dark:text-red-400 font-bold px-6 py-2 rounded-full hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-xl",children:"logout"})," Log Out"]}),g.jsx("div",{className:"flex flex-col items-center gap-1 opacity-60 hover:opacity-100 transition-opacity",children:g.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500",children:"Maa Ki Rasoi App v2.4.0"})})]})]})]})]})}function M({onBack:t,onSuccessComplete:a,planConfig:r}){const l="Weekly"===(null==r?void 0:r.planType),[n,d]=e.useState(!1),[o,i]=e.useState(!1),[c,x]=e.useState(""),[m,h]=e.useState(!1),[b,f]=e.useState(""),[u,p]=e.useState(!1),[y,j]=e.useState(!1),[v,k]=e.useState("ONLINE"),N=e.useRef(!1),w="Both"===(null==r?void 0:r.mealType)?"Lunch + Dinner":(null==r?void 0:r.mealType)||"Lunch",_=`${"MonthlyFull"===(null==r?void 0:r.planType)?"30-Day":"Weekly"===(null==r?void 0:r.planType)?"5-Day":"22-Day"} ${w} Plan (Pure Veg)`,S=l?"Monâ€“Fri, 5 working days":"MonthlyFull"===(null==r?void 0:r.planType)?"30 consecutive days":"Monâ€“Fri, 22 working days",C="Weekly"===(null==r?void 0:r.planType)?5:"MonthlyFull"===(null==r?void 0:r.planType)?30:22,P="MonthlyFull"===(null==r?void 0:r.planType)?100:"Monthly"===(null==r?void 0:r.planType)?110:120,T=C*("Both"===(null==r?void 0:r.mealType)?2:1)*P*("Both"===(null==r?void 0:r.mealType)?.85:1),z=()=>{const e=JSON.parse(localStorage.getItem("customer_data")||"{}");return{customerName:e.name||"Customer",customerPhone:e.phone||"9999999999",customerId:e.id,address:"Hostel 3, Room 402",planType:(null==r?void 0:r.planType)||"Monthly",mealType:(null==r?void 0:r.mealType)||"Lunch",dietaryPreference:(null==r?void 0:r.dietaryPreference)||"Veg",startDate:(new Date).toISOString()}},D=e.useCallback(async()=>{if(N.current||n)return;N.current=!0,d(!0);const e=z();if("COD"!==v)try{const t=await s.post("/subscriptions",e),r=t.data.subscription.id,l=t.data.subscription.totalPrice;if(!(await new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>e(!0),t.onerror=()=>e(!1),document.body.appendChild(t)})))return alert("Failed to load Razorpay SDK. Check your internet connection."),void d(!1);const n=await s.post("/payments/create-order",{amount:l,orderType:"Subscription",referenceId:r}),{id:o,isMock:i}=n.data.order;if(i){return(await s.post("/payments/verify",{razorpay_order_id:o,razorpay_payment_id:"pay_mock_"+Date.now(),razorpay_signature:"mock_signature",orderType:"Subscription",referenceId:r})).data.success&&(p(!0),setTimeout(()=>a(),2e3)),void d(!1)}const c={key:"rzp_test_dummykey",amount:100*l,currency:"INR",name:"Maa Ki Rasoi",description:_,image:"https://raw.githubusercontent.com/OMINIPOTENTOCTAVE/maa-ki-rasoi-assets/main/logo.png",order_id:o,handler:async function(e){try{(await s.post("/payments/verify",{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,orderType:"Subscription",referenceId:r})).data.success&&(p(!0),setTimeout(()=>a(),2e3))}catch(t){alert("Payment verification failed. If money was deducted, contact support.")}},prefill:{name:e.customerName,contact:e.customerPhone},theme:{color:"#C8550A"}},x=new window.Razorpay(c);x.on("payment.failed",function(e){alert("Payment Failed: "+e.error.description)}),x.open()}catch(t){alert("An error occurred during checkout.")}finally{d(!1),N.current=!1}else try{await s.post("/auth/otp/request",{phone:e.customerPhone}),i(!0)}catch(r){alert("Failed to send OTP. Please try again.")}finally{d(!1)}},[n,v,r]);return g.jsxs("div",{className:"relative z-50 bg-[#f8f7f5] dark:bg-[#221b10] flex flex-col no-scrollbar overflow-y-auto h-full",children:[g.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-white/95 dark:bg-[#221b10]/95 backdrop-blur-md px-4 md:px-6 py-4 transition-colors",children:[g.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors md:hidden",children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),g.jsx("h1",{className:"text-lg font-bold font-heading",children:"Checkout"}),g.jsx("div",{className:"w-10 md:hidden"})]}),g.jsxs("main",{className:"flex flex-col gap-6 p-4 md:p-6 pb-32 md:pb-8 flex-1",children:[g.jsx("section",{className:"rounded-xl bg-white dark:bg-[#2d2418] shadow-sm p-4 border border-gray-100 dark:border-gray-800",children:g.jsx("div",{className:"flex items-start justify-between gap-4",children:g.jsxs("div",{className:"flex gap-4 flex-1",children:[g.jsx("div",{className:"h-20 w-20 shrink-0 overflow-hidden rounded-lg bg-gray-200 dark:bg-gray-800 relative",children:g.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuD_JBpahAewmkA8Ud-6JzYOkMbnusVqYoQFKOr7lbdmdDFBKmRBzt5s1mniGWZiJZ9TbeJG3Kwf8gasjOvSUrelvflM2Dy14LoaoPPS71PunnKn7acYoRxB8JQC3BtqdYUMyju8im0VBacecSTWGXwFrbU5hlEGFagmmi2495tRNA36NWGMcTS8qKLwhPtDB9vAj0J5ybI6IM-tsdFUB8VrU35LvFJ-pvwh1WsvMgDxutPVpkPR-01BeFt6ABk0qrL4BTHnqtPmuLUr')"}})}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("h2",{className:"text-base font-bold leading-tight",children:_}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S}),g.jsx("p",{className:"text-xs text-brand-saffron font-medium mt-1",children:"Starts Tomorrow, 12:30 PM"})]})]})})}),g.jsxs("section",{className:"flex flex-col gap-3 px-2",children:[g.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[g.jsx("span",{children:"Item Total"}),g.jsxs("span",{children:["â‚¹",T.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[g.jsx("span",{children:"GST (5%)"}),g.jsxs("span",{children:["â‚¹",(.05*T).toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[g.jsx("span",{children:"Delivery Charges"}),g.jsx("span",{className:"text-brand-green font-medium",children:"Free"})]}),g.jsx("div",{className:"my-1 h-px w-full bg-slate-200 dark:bg-white/10"}),g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-base font-bold",children:"Total Payable"}),g.jsxs("span",{className:"text-xl font-extrabold tracking-tight text-brand-saffron",children:["â‚¹",T+.05*T]})]})]}),g.jsx("section",{className:"rounded-xl bg-brand-saffron/10 border border-brand-saffron/20 p-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-brand-saffron/20 text-brand-saffron",children:g.jsx("span",{className:"material-symbols-outlined",children:"autorenew"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("h3",{className:"text-sm font-bold",children:"Enable Auto-Pay"}),g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Save â‚¹50 on next renewal"})]})]}),g.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[g.jsx("input",{type:"checkbox",className:"peer sr-only",checked:y,onChange:()=>j(!y)}),g.jsx("div",{className:"peer h-6 w-11 rounded-full bg-slate-300 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-brand-saffron peer-checked:after:translate-x-full peer-checked:after:border-white dark:bg-slate-700"})]})]})}),g.jsxs("section",{children:[g.jsx("h3",{className:"mb-3 px-2 text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Payment Method"}),g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("label",{className:"group relative flex cursor-pointer items-center gap-4 rounded-xl border bg-white dark:bg-[#2d2418] border-gray-200 dark:border-gray-800 p-4 shadow-sm transition-all hover:border-brand-saffron/50 has-[input:checked]:border-brand-saffron has-[input:checked]:bg-brand-saffron/5",children:[g.jsx("input",{checked:"ONLINE"===v,onChange:()=>k("ONLINE"),className:"peer h-5 w-5 border-2 border-slate-400 text-brand-saffron focus:ring-brand-saffron dark:bg-transparent",name:"payment_method",type:"radio"}),g.jsxs("div",{className:"flex flex-col flex-1 pl-2",children:[g.jsx("p",{className:"text-sm font-bold",children:"Pay Online (UPI / Card)"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"GooglePay, PhonePe, Cards"})]}),g.jsx("span",{className:"material-symbols-outlined text-brand-saffron opacity-0 peer-checked:opacity-100",children:"check_circle"})]}),g.jsxs("label",{className:"group relative flex cursor-pointer items-center gap-4 rounded-xl border bg-white dark:bg-[#2d2418] border-gray-200 dark:border-gray-800 p-4 shadow-sm transition-all hover:border-brand-saffron/50 has-[input:checked]:border-brand-saffron has-[input:checked]:bg-brand-saffron/5",children:[g.jsx("input",{checked:"COD"===v,onChange:()=>k("COD"),className:"peer h-5 w-5 border-2 border-slate-400 text-brand-saffron focus:ring-brand-saffron dark:bg-transparent",name:"payment_method",type:"radio"}),g.jsxs("div",{className:"flex flex-col flex-1 pl-2",children:[g.jsx("p",{className:"text-sm font-bold",children:"Cash on Delivery"}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pay cash/UPI when your first meal arrives"})]}),g.jsx("span",{className:"material-symbols-outlined text-brand-saffron opacity-0 peer-checked:opacity-100",children:"check_circle"})]})]})]})]}),g.jsx("footer",{className:"sticky bottom-0 bg-white/80 dark:bg-[#221b10]/80 backdrop-blur-lg border-t border-slate-200 dark:border-white/5 p-4 z-20",children:g.jsx("button",{onClick:D,disabled:n,className:"group relative w-full overflow-hidden rounded-xl bg-brand-saffron py-4 text-center font-bold text-white shadow-lg shadow-brand-saffron/25 transition-all active:scale-[0.98] disabled:opacity-70 disabled:active:scale-100",children:g.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2",children:n?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin",children:"progress_activity"}),"Processing..."]}):"ONLINE"===v?g.jsxs(g.Fragment,{children:["Pay Securely",g.jsx("span",{className:"material-symbols-outlined text-lg transition-transform group-hover:translate-x-1",children:"arrow_forward"})]}):g.jsxs(g.Fragment,{children:["Pay on Delivery",g.jsx("span",{className:"material-symbols-outlined text-lg transition-transform group-hover:translate-x-1",children:"check"})]})})})}),u&&g.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm",children:g.jsxs("div",{className:"flex w-full max-w-sm flex-col items-center rounded-2xl bg-white dark:bg-[#2d2418] p-8 text-center shadow-2xl scale-100 transition-transform",children:[g.jsx("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-brand-green/20 text-brand-green",children:g.jsx("span",{className:"material-symbols-outlined text-5xl",children:"check_circle"})}),g.jsx("h2",{className:"mb-2 text-2xl font-bold text-slate-900 dark:text-white",children:"Subscription Active!"}),g.jsxs("p",{className:"mb-8 text-sm text-slate-600 dark:text-slate-300",children:['Your "',_,'" has been successfully activated. Enjoy your meals!']}),g.jsx("button",{onClick:a,className:"w-full rounded-xl bg-slate-900 dark:bg-white py-3 font-bold text-white dark:text-black transition-transform active:scale-95",children:"View Your Plan"})]})}),o&&g.jsx("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center bg-black/60 p-0 sm:p-4 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsx("div",{className:"w-full sm:max-w-md bg-white dark:bg-neutral-800 rounded-t-2xl sm:rounded-2xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-8 sm:slide-in-from-bottom-0 sm:zoom-in-95 duration-300",children:g.jsxs("div",{className:"px-6 py-8 flex flex-col items-center",children:[g.jsx("div",{className:"w-16 h-16 bg-brand-saffron/10 rounded-full flex items-center justify-center mb-6",children:g.jsx("span",{className:"material-symbols-outlined text-brand-saffron text-3xl",children:"sms"})}),g.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:"Verify Your Order"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center mb-8 max-w-[260px]",children:"We've sent a 4-digit code to your mobile number to confirm Cash on Delivery."}),g.jsxs("div",{className:"w-full space-y-6",children:[g.jsx("div",{className:"space-y-2",children:g.jsx("input",{autoFocus:!0,value:c,onChange:e=>x(e.target.value.replace(/\D/g,"")),className:"block w-full h-14 px-4 rounded-xl border-slate-200 dark:border-neutral-700 bg-slate-50 dark:bg-neutral-900 text-slate-900 dark:text-white focus:border-brand-saffron focus:ring-2 focus:ring-brand-saffron text-center text-3xl tracking-[0.5em] shadow-inner font-bold",type:"text",maxLength:4,placeholder:"â€¢â€¢â€¢â€¢"})}),b&&g.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm text-center font-medium animate-in fade-in",children:b}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>{i(!1),x(""),f("")},disabled:m,className:"flex-1 py-3.5 rounded-xl font-bold text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-neutral-700 hover:bg-slate-200 dark:hover:bg-neutral-600 transition-colors disabled:opacity-50",children:"Cancel"}),g.jsx("button",{onClick:async()=>{var e,t;if(c.length<4)return;f(""),h(!0);const r=z();try{(await s.post("/auth/otp/verify",{phone:r.customerPhone,otp:c})).data.success&&(i(!1),await s.post("/subscriptions",r),p(!0),setTimeout(()=>a(),2e3))}catch(l){f((null==(t=null==(e=l.response)?void 0:e.data)?void 0:t.message)||"Invalid OTP. Please try again.")}finally{h(!1),x("")}},disabled:m||c.length<4,className:"flex-[2] py-3.5 rounded-xl font-bold text-white bg-brand-saffron hover:bg-[#D97706] shadow-lg shadow-brand-saffron/30 transition-all active:scale-[0.98] disabled:opacity-70 disabled:active:scale-100 flex items-center justify-center",children:m?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"material-symbols-outlined animate-spin mr-2 text-sm",children:"progress_activity"}),"Verifying..."]}):"Confirm Order"})]})]})]})})})]})}function E({onBack:e}){return g.jsxs("div",{className:"flex flex-col h-full w-full bg-brand-cream dark:bg-brand-dark pb-24 md:pb-8",children:[g.jsxs("header",{className:"flex items-center justify-between px-4 md:px-6 py-3 sticky top-0 z-10 bg-white/80 dark:bg-[#221b10]/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800",children:[g.jsx("button",{onClick:e,className:"flex items-center justify-center p-2 rounded-full hover:bg-gray-200 dark:hover:bg-[#2d2418] transition-colors md:hidden",children:g.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-slate-100",children:"arrow_back"})}),g.jsx("h1",{className:"text-lg font-bold font-heading",children:"Help & Support"}),g.jsx("div",{className:"w-10 md:hidden"})]}),g.jsxs("main",{className:"flex-1 px-4 md:px-6 lg:px-8 py-6 flex flex-col gap-6 max-w-3xl mx-auto w-full",children:[g.jsx("section",{children:g.jsxs("div",{className:"bg-white dark:bg-[#2d2418] rounded-xl p-5 border border-gray-200 dark:border-gray-800 shadow-sm relative overflow-hidden group hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-brand-saffron"}),g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"bg-brand-saffron/20 text-brand-saffron text-xs font-bold px-2 py-1 rounded-md uppercase tracking-wide",children:"In Progress"}),g.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Today, 10:45 AM"})]}),g.jsx("span",{className:"material-symbols-outlined text-brand-saffron animate-pulse",children:"pending"})]}),g.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-lg mb-1",children:"Ticket #203: Late Lunch"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"Your issue is being reviewed by our support team. Estimated resolution time: 10 mins."}),g.jsxs("button",{className:"text-sm font-medium text-brand-saffron hover:opacity-80 transition-colors flex items-center gap-1",children:["View Conversation ",g.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 material-symbols-outlined text-gray-500",children:"search"}),g.jsx("input",{className:"w-full bg-white dark:bg-[#2d2418] border border-gray-200 dark:border-gray-800 text-slate-900 dark:text-white rounded-lg py-3 pl-12 pr-4 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-saffron/50 transition-all shadow-sm",placeholder:"Search for help...",type:"text"})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-slate-900 dark:text-white font-bold text-xl mb-4",children:"What do you need help with?"}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g.jsxs("button",{className:"bg-white dark:bg-[#2d2418] border border-gray-200 dark:border-gray-800 hover:border-brand-saffron/50 p-4 rounded-xl flex flex-col items-start gap-3 transition-all text-left shadow-sm group hover:shadow-md",children:[g.jsx("div",{className:"bg-gray-100 dark:bg-[#221b10] p-2 rounded-lg group-hover:bg-brand-saffron/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"moped"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Delivery"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Late or missing tiffin"})]})]}),g.jsxs("button",{className:"bg-white dark:bg-[#2d2418] border border-gray-200 dark:border-gray-800 hover:border-brand-saffron/50 p-4 rounded-xl flex flex-col items-start gap-3 transition-all text-left shadow-sm group hover:shadow-md",children:[g.jsx("div",{className:"bg-gray-100 dark:bg-[#221b10] p-2 rounded-lg group-hover:bg-brand-saffron/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"restaurant_menu"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Food Quality"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Taste, hygiene, portion"})]})]}),g.jsxs("button",{className:"bg-white dark:bg-[#2d2418] border border-gray-200 dark:border-gray-800 hover:border-brand-saffron/50 p-4 rounded-xl flex flex-col items-start gap-3 transition-all text-left shadow-sm group hover:shadow-md",children:[g.jsx("div",{className:"bg-gray-100 dark:bg-[#221b10] p-2 rounded-lg group-hover:bg-brand-saffron/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"payments"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Billing"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Payment & refunds"})]})]}),g.jsxs("button",{className:"bg-white dark:bg-[#2d2418] border border-gray-200 dark:border-gray-800 hover:border-brand-saffron/50 p-4 rounded-xl flex flex-col items-start gap-3 transition-all text-left shadow-sm group hover:shadow-md",children:[g.jsx("div",{className:"bg-gray-100 dark:bg-[#221b10] p-2 rounded-lg group-hover:bg-brand-saffron/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-brand-saffron",children:"settings"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Account"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Settings & preferences"})]})]})]})]}),g.jsxs("section",{className:"mt-2",children:[g.jsxs("button",{className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-3 transition-colors shadow-lg shadow-green-900/20",children:[g.jsx("span",{className:"material-symbols-outlined",children:"chat"}),g.jsx("span",{children:"Chat with us on WhatsApp"})]}),g.jsx("p",{className:"text-center text-gray-500 text-xs mt-3",children:"Usually replies within 5 minutes"})]})]})]})}const B=e.lazy(()=>N(()=>import("./DesktopLayout-B1w6dFrC.js"),__vite__mapDeps([0,1,2]))),I=e.lazy(()=>N(()=>import("./RightPanel-C4U5D72R.js"),__vite__mapDeps([3,1,2]))),L=e.lazy(()=>N(()=>import("./DesktopModal-BCVvd-1e.js"),__vite__mapDeps([4,1,2]))),R=()=>g.jsx("div",{className:"flex items-center justify-center h-screen bg-brand-cream dark:bg-brand-dark",children:g.jsx("span",{className:"material-symbols-outlined animate-spin text-brand-saffron text-3xl",children:"progress_activity"})});function W({cart:t,addToCart:a}){const[r,l]=e.useState("home"),[n,d]=e.useState([]),[o,i]=e.useState([]),[c,x]=e.useState(!0),{isMobile:m}=w(),[h,b]=e.useState(null),[f,u]=e.useState(null),p=async()=>{try{x(!0);const[e,t]=await Promise.all([s.get("/subscriptions"),s.get("/orders")]);d(e.data.data||[]),i(t.data.data||[])}catch(e){}finally{x(!1)}};e.useEffect(()=>{p()},[]);const y=()=>{b(null),u(null),p()},j=()=>{m?b("support"):l("support")},v=e=>{"support"!==e?(b(null),l(e)):j()};if(m){if("explore"===h)return g.jsx(z,{onBack:y,onCheckout:e=>{u(e),b("checkout")}});if("checkout"===h)return g.jsx(M,{planConfig:f,onBack:y,onSuccessComplete:()=>{b("manage"),p()}});if("support"===h)return g.jsx(E,{onBack:y});if("manage"===h)return g.jsx(T,{onBack:y,subscriptions:n,onUpdate:p})}if(c)return g.jsx("div",{className:"flex bg-brand-cream dark:bg-brand-dark h-screen w-full items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined animate-spin text-brand-saffron text-4xl",children:"progress_activity"})});const k=()=>{switch(r){case"home":return g.jsx(P,{subscriptions:n,onManageClick:()=>b("manage"),onExploreClick:()=>b("explore")});case"menu":return g.jsx(D,{onBack:()=>l("home"),cart:t,addToCart:a});case"orders":return g.jsx(O,{orders:o,subscriptions:n,onBack:()=>l("home"),onExtendPlan:()=>b("explore"),onReviewMeal:()=>alert("Opening review prompt..."),onRepeatMeal:()=>b("checkout")});case"profile":return g.jsx(A,{onLogout:()=>{localStorage.removeItem("customer_token"),localStorage.removeItem("customer_data"),window.location.href="/login"},onManageSubscription:()=>b("manage"),onSupportClick:j});case"support":return g.jsx(E,{onBack:()=>l("home")});default:return null}},N={explore:"Explore Plans",checkout:"Complete Checkout",support:"Help & Support",manage:"Manage Subscription"};return m?g.jsx(_,{activeTab:r,onTabChange:v,children:k()}):g.jsxs(e.Suspense,{fallback:g.jsx(R,{}),children:[g.jsx(B,{activeTab:r,onTabChange:v,rightPanel:g.jsx(I,{subscriptions:n}),children:k()}),(()=>{if(!h)return null;let e;switch(h){case"explore":e=g.jsx(z,{onBack:y,onCheckout:e=>{u(e),b("checkout")}});break;case"checkout":e=g.jsx(M,{planConfig:f,onBack:y,onSuccessComplete:()=>{b("manage"),p()}});break;case"support":e=g.jsx(E,{onBack:y});break;case"manage":e=g.jsx(T,{onBack:y,subscriptions:n,onUpdate:p});break;default:return null}return g.jsx(L,{title:N[h],onClose:y,children:e})})()]})}function F(){const t=a(),[r,l]=e.useState(""),[n,d]=e.useState(""),[o,i]=e.useState(!1),[c,x]=e.useState(""),[m,h]=e.useState(!1),[b,f]=e.useState(""),u=async()=>{var e,t;if(!r||r.length<10)f("Please enter a valid phone number");else{f(""),h(!0);try{await s.post("/auth/otp/request",{phone:r}),i(!0),x("")}catch(a){f((null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.message)||"Failed to send OTP. Try again.")}finally{h(!1)}}};return g.jsx("div",{className:"bg-brand-cream dark:bg-brand-dark font-display antialiased text-slate-900 dark:text-slate-100 min-h-screen flex items-center justify-center p-4",children:g.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-neutral-800 rounded-xl shadow-xl overflow-hidden relative min-h-[700px] flex flex-col",children:[g.jsxs("div",{className:"relative h-64 w-full bg-orange-50 dark:bg-neutral-700",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-saffron/20 to-white dark:from-orange-900/20 dark:to-neutral-800 z-0"}),g.jsx("div",{className:"absolute inset-0 bg-center bg-cover opacity-90 z-10",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuA2awJwtVvtt4EBk_Y-bMPKTYhUtToBkqgOD5w8XzGgD_miqjhXEw2L8Dh_VQC6RORUWzshnPwrq5-YEgwAGG4Eiuzc83Lw20ySjw_MmktIbj84-19vYqRTK-lUBMpS0ZX4jB2KtFxXAjL16308PWQBcgiISQC-u-5Te36286VHG4VouagwwYCpwN7O5SioeevU6C9fH-OW3fzYk2VPQOVDT3oZQmoMtmcgA_yAR6PRrbV34nGU-JK5Jx_abbuWN7zVkqw5J7egxZPo')",maskImage:"linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 50%, transparent 100%)"}}),g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 flex flex-col items-center",children:g.jsx("div",{className:"w-24 h-24 bg-white dark:bg-neutral-900 rounded-full shadow-lg flex items-center justify-center border-4 border-brand-saffron/20 p-2",children:g.jsx("span",{className:"material-symbols-outlined text-brand-saffron text-5xl",children:"lunch_dining"})})})]}),g.jsxs("div",{className:"flex-1 px-6 pt-2 pb-8 flex flex-col items-center z-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-2",children:"Maa Ki Rasoi"}),g.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-lg leading-snug max-w-[280px] mx-auto",children:["Your daily dose of ",g.jsx("span",{className:"text-brand-saffron font-bold",children:"home-cooked"})," care."]})]}),g.jsxs("form",{onSubmit:async e=>{var a,l;if(e.preventDefault(),!o)return u();f(""),h(!0);try{const e=await s.post("/auth/otp/verify",{phone:r,otp:c,name:n});e.data.success&&(localStorage.setItem("customer_token",e.data.token),localStorage.setItem("customer_data",JSON.stringify(e.data.customer)),s.defaults.headers.common.Authorization=`Bearer ${e.data.token}`,t("/"))}catch(d){f((null==(l=null==(a=d.response)?void 0:a.data)?void 0:l.message)||"Authentication failed. Try again.")}finally{h(!1)}},className:"w-full space-y-5",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",htmlFor:"phone",children:"Phone Number"}),g.jsxs("div",{className:"relative flex items-center group focus-within:ring-2 focus-within:ring-brand-saffron focus-within:ring-offset-2 rounded-xl transition-all duration-200",children:[g.jsx("div",{className:"absolute left-0 top-0 bottom-0 pl-4 flex items-center pointer-events-none",children:g.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-bold border-r border-slate-200 dark:border-neutral-600 pr-3 mr-3",children:"+91"})}),g.jsx("input",{disabled:o,value:r,onChange:e=>l(e.target.value.replace(/\D/g,"")),className:"block w-full h-14 pl-[4.5rem] pr-[110px] rounded-xl border-slate-200 dark:border-neutral-700 bg-slate-50 dark:bg-neutral-900 text-slate-900 dark:text-white placeholder-slate-400 focus:border-brand-saffron focus:ring-0 text-lg font-medium tracking-wide shadow-sm",id:"phone",type:"tel",placeholder:"98765 43210",maxLength:10}),g.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:o?g.jsx("button",{type:"button",onClick:()=>{i(!1),x("")},className:"px-3 py-1.5 text-slate-400 hover:text-brand-saffron rounded-lg text-sm font-bold transition-colors",children:"Edit"}):g.jsx("button",{type:"button",onClick:u,disabled:m||r.length<10,className:"px-4 py-1.5 bg-brand-saffron/10 text-brand-saffron hover:bg-brand-saffron hover:text-white rounded-lg text-sm font-bold transition-colors disabled:opacity-50",children:"Send OTP"})})]})]}),o&&g.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2",children:[g.jsxs("div",{className:"space-y-1.5",children:[g.jsxs("div",{className:"flex justify-between items-end mb-1",children:[g.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"OTP Code"}),g.jsx("button",{type:"button",onClick:u,disabled:m,className:"text-xs font-bold text-brand-saffron hover:underline focus:outline-none",children:"Resend OTP"})]}),g.jsx("input",{autoFocus:!0,value:c,onChange:e=>x(e.target.value.replace(/\D/g,"")),className:"block w-full h-14 px-4 rounded-xl border-slate-200 dark:border-neutral-700 bg-slate-50 dark:bg-neutral-900 text-slate-900 dark:text-white focus:border-brand-saffron focus:ring-2 focus:ring-brand-saffron text-center text-3xl tracking-[0.5em] shadow-sm font-bold",type:"text",maxLength:4,placeholder:"â€¢â€¢â€¢â€¢"})]}),g.jsxs("div",{className:"space-y-1.5",children:[g.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"Your Name"}),g.jsx("input",{value:n,onChange:e=>d(e.target.value),className:"block w-full h-14 px-4 rounded-xl border-slate-200 dark:border-neutral-700 bg-slate-50 dark:bg-neutral-900 text-slate-900 dark:text-white focus:border-brand-saffron focus:ring-2 focus:ring-brand-saffron shadow-sm text-lg",type:"text",placeholder:"Optional (If new user)"})]})]}),b&&g.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm text-center font-medium animate-in fade-in",children:b}),o?g.jsxs("button",{disabled:m||c.length<4,type:"submit",className:"w-full h-14 bg-brand-saffron hover:bg-[#D97706] text-white font-bold text-lg rounded-xl shadow-lg shadow-brand-saffron/30 flex items-center justify-center transition-transform active:scale-[0.98] group disabled:opacity-70 disabled:active:scale-100",children:[g.jsx("span",{className:"mr-2",children:m?"Verifying...":"Login securely"}),!m&&g.jsx("span",{className:"material-symbols-outlined group-hover:translate-x-1 transition-transform",children:"lock_open"})]}):g.jsxs("button",{disabled:m||r.length<10,type:"submit",className:"w-full h-14 bg-brand-saffron hover:bg-[#D97706] text-white font-bold text-lg rounded-xl shadow-lg shadow-brand-saffron/30 flex items-center justify-center transition-transform active:scale-[0.98] group disabled:opacity-70 disabled:active:scale-100",children:[g.jsx("span",{className:"mr-2",children:m?"Processing...":"Send OTP"}),!m&&g.jsx("span",{className:"material-symbols-outlined group-hover:translate-x-1 transition-transform",children:"send"})]})]}),g.jsx("div",{className:"flex-grow"}),g.jsx("div",{className:"text-center mt-8 pt-4",children:g.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed px-4",children:["By continuing, you agree to our ",g.jsx("br",{}),g.jsx("a",{className:"text-brand-saffron hover:underline font-medium",href:"#",children:"Terms of Service"})," and ",g.jsx("a",{className:"text-brand-saffron hover:underline font-medium",href:"#",children:"Privacy Policy"}),"."]})})]})]})})}function q({children:e}){const t=localStorage.getItem("customer_token");return t&&!s.defaults.headers.common.Authorization&&(s.defaults.headers.common.Authorization=`Bearer ${t}`),t?e:g.jsx(F,{})}function V(){const[t,a]=e.useState([]),[s,d]=e.useState(!navigator.onLine);e.useEffect(()=>{const e=()=>d(!1),t=()=>d(!0);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]);return g.jsxs(r,{children:[s&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,background:"#E67E22",color:"#fff",textAlign:"center",padding:"0.5rem",zIndex:9999,fontWeight:"bold"},children:"âš ï¸ You are currently offline. Viewing cached mode."}),g.jsxs(l,{children:[g.jsx(n,{path:"/",element:g.jsx(q,{children:g.jsx(W,{cart:t,addToCart:e=>{a(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,qty:t.qty+1}:t):[...t,{...e,qty:1}])}})})}),g.jsx(n,{path:"/login",element:g.jsx(F,{})}),g.jsx(n,{path:"/checkout",element:g.jsx(q,{children:g.jsx(U,{cart:t,updateQty:(e,t)=>{a(a=>a.map(a=>a.id===e?{...a,qty:Math.max(0,a.qty+t)}:a).filter(e=>e.qty>0))},clearCart:()=>a([])})})})]})]})}function U({cart:e,updateQty:t,clearCart:a}){return g.jsx("div",{className:"min-h-screen bg-brand-cream dark:bg-brand-dark",children:g.jsx("div",{className:"max-w-2xl mx-auto",children:g.jsx(v,{cart:e,updateQty:t,clearCart:a})})})}s.defaults.baseURL="https://maa-ki-rasoi-api.onrender.com",s.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("customer_token"),"/login"!==window.location.pathname&&(window.location.href="/login")),Promise.reject(e))),y.createRoot(document.getElementById("root")).render(g.jsx(d.StrictMode,{children:g.jsx(V,{})}));export{g as j};
