const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminLogin-BEd459Fh.js","assets/vendor-DrQyEka1.js","assets/ui-CZusVLl5.js","assets/AdminDashboard-CW9KJjkb.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,u as r,b as n,B as s,R as a,c as i,d as o}from"./vendor-DrQyEka1.js";import{S as l,A as d}from"./ui-CZusVLl5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var c={exports:{}},m={},p=e,h=Symbol.for("react.element"),u=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,x=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,r){var n,s={},a=null,i=null;for(n in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(i=t.ref),t)g.call(t,n)&&!y.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:h,type:e,key:a,ref:i,props:s,_owner:x.current}}m.Fragment=u,m.jsx=f,m.jsxs=f,c.exports=m;var j=c.exports,b={},v=t;b.createRoot=v.createRoot,b.hydrateRoot=v.hydrateRoot;const S={},k=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in S)return;S[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};function N({cart:t,addToCart:s,updateQty:a}){const[i,o]=e.useState([]),[d,c]=e.useState(!0),[m,p]=e.useState("All"),h=r();e.useEffect(()=>{n.get("/menu?available=true").then(e=>{o(e.data.data.filter(e=>e.isAvailable)),c(!1)}).catch(()=>{c(!1)})},[]);const u=["All",...new Set(i.map(e=>e.category))],g="All"===m?i:i.filter(e=>e.category===m),x=t.reduce((e,t)=>e+t.price*t.qty,0),y=t.reduce((e,t)=>e+t.qty,0);return d?j.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading menu..."}):j.jsxs("div",{children:[j.jsxs("div",{style:{height:"180px",borderRadius:"20px",marginBottom:"1.5rem",backgroundImage:'url("https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&w=800&q=80")',backgroundSize:"cover",backgroundPosition:"center",boxShadow:"0 8px 30px rgba(0,0,0,0.12)",display:"flex",alignItems:"flex-end",padding:"1.5rem",color:"white",position:"relative",overflow:"hidden"},children:[j.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%)"}}),j.jsxs("h2",{style:{position:"relative",fontSize:"1.8rem",fontWeight:800,textShadow:"0 2px 10px rgba(0,0,0,0.5)",lineHeight:1.2},children:["Fresh. Home Style.",j.jsx("br",{}),"Made with Love."]})]}),j.jsx("div",{style:{display:"flex",gap:"0.75rem",overflowX:"auto",marginBottom:"1.5rem",paddingBottom:"0.5rem"},children:u.map(e=>j.jsx("button",{onClick:()=>p(e),className:"category-pill "+(m===e?"active":""),children:e},e))}),j.jsxs("div",{className:"menu-list",children:[g.map(e=>{const r=t.find(t=>t.id===e.id);return j.jsxs("div",{className:"card menu-item",children:[j.jsxs("div",{children:[j.jsx("h3",{style:{marginBottom:"0.25rem"},children:e.name}),j.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",marginBottom:"0.5rem"},children:e.description}),j.jsxs("div",{className:"price",children:["â‚¹",e.price]})]}),j.jsx("div",{children:r?j.jsxs("div",{className:"qty-controls",children:[j.jsx("button",{className:"qty-btn",onClick:()=>a(e.id,-1),children:"-"}),j.jsx("span",{style:{fontWeight:"600",minWidth:"1.2rem",textAlign:"center"},children:r.qty}),j.jsx("button",{className:"qty-btn",onClick:()=>a(e.id,1),children:"+"})]}):j.jsx("button",{className:"btn btn-secondary",onClick:()=>s(e),children:"Add"})})]},e.id)}),0===g.length&&j.jsx("div",{style:{textAlign:"center",color:"var(--text-muted)",padding:"2rem 0"},children:"No items in this category right now."})]}),y>0&&j.jsxs("div",{className:"sticky-cart",children:[j.jsxs("div",{className:"cart-info",children:[j.jsxs("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.95rem",fontWeight:500},children:[y," items â€¢ Total"]}),j.jsxs("div",{style:{fontWeight:"800",fontSize:"1.4rem"},children:["â‚¹",x]})]}),j.jsxs("button",{className:"btn",onClick:()=>h("/checkout"),children:[j.jsx(l,{size:20}),"Checkout"]})]})]})}function w({cart:t,updateQty:s,clearCart:a}){const i=r(),[o,l]=e.useState({name:"",phone:"",address:""}),[c,m]=e.useState(!1),[p,h]=e.useState(!1),[u,g]=e.useState(""),x=t.reduce((e,t)=>e+t.price*t.qty,0);if(0===t.length&&!p)return j.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[j.jsx("h3",{children:"Your cart is empty"}),j.jsx("button",{className:"btn",style:{marginTop:"1rem"},onClick:()=>i("/"),children:"Browse Menu"})]});return p?j.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem"},children:[j.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"ðŸŽ‰"}),j.jsx("h2",{children:"Order Placed Successfully!"}),j.jsx("p",{style:{color:"var(--text-muted)",margin:"1rem 0"},children:"Your home-style meal will be prepared and delivered to you soon. Pay via Cash on Delivery."}),j.jsx("button",{className:"btn",onClick:()=>i("/"),children:"Back to Menu"})]}):j.jsxs("div",{style:{animation:"fadeIn 0.4s ease-out"},children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",background:"var(--card-bg)",backdropFilter:"blur(8px)",padding:"1rem",borderRadius:"16px",boxShadow:"var(--glass-shadow)"},children:[j.jsx("button",{onClick:()=>i("/"),style:{background:"rgba(255,87,34,0.1)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"50%",transition:"all 0.2s"},children:j.jsx(d,{size:20,color:"var(--primary)"})}),j.jsx("h2",{style:{margin:0,fontWeight:800},children:"Complete Your Order"})]}),j.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",padding:"1.5rem"},children:[j.jsxs("h3",{style:{marginBottom:"1.25rem",borderBottom:"1px solid rgba(0,0,0,0.05)",paddingBottom:"0.75rem",fontWeight:700,display:"flex",alignItems:"center",gap:"0.5rem"},children:[j.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ›’"})," Order Summary"]}),t.map(e=>j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.85rem",alignItems:"center"},children:[j.jsxs("div",{children:[j.jsx("span",{style:{fontWeight:600},children:e.name}),j.jsxs("span",{style:{color:"var(--primary)",marginLeft:"0.5rem",fontWeight:700,background:"rgba(255,87,34,0.1)",padding:"0.1rem 0.4rem",borderRadius:"12px",fontSize:"0.8rem"},children:["x",e.qty]})]}),j.jsxs("span",{style:{fontWeight:600},children:["â‚¹",e.price*e.qty]})]},e.id)),j.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1.25rem",paddingTop:"1.25rem",borderTop:"2px dashed rgba(255,87,34,0.2)",fontWeight:"800",fontSize:"1.2rem"},children:[j.jsx("span",{children:"Total Amount"}),j.jsxs("span",{style:{color:"var(--primary)"},children:["â‚¹",x]})]})]}),j.jsxs("form",{onSubmit:async e=>{var r,s;e.preventDefault(),m(!0),g("");try{const e={customerName:o.name,customerPhone:o.phone,address:o.address,items:t.map(e=>({menuItemId:e.id,quantity:e.qty}))};await n.post("/orders",e),h(!0),a()}catch(i){g((null==(s=null==(r=i.response)?void 0:r.data)?void 0:s.message)||"Error placing order. Please try again.")}finally{m(!1)}},className:"card",style:{padding:"1.5rem"},children:[j.jsxs("h3",{style:{marginBottom:"1.25rem",fontWeight:700,display:"flex",alignItems:"center",gap:"0.5rem"},children:[j.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ“"})," Delivery Details"]}),j.jsxs("div",{style:{marginBottom:"1rem"},children:[j.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"0.5rem"},children:"Full Name"}),j.jsx("input",{className:"input-field",placeholder:"John Doe",required:!0,value:o.name,onChange:e=>l({...o,name:e.target.value}),style:{background:"rgba(0,0,0,0.02)",border:"1px solid transparent"}})]}),j.jsxs("div",{style:{marginBottom:"1rem"},children:[j.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"0.5rem"},children:"Phone Number"}),j.jsx("input",{className:"input-field",placeholder:"10-digit mobile number",required:!0,type:"tel",pattern:"[0-9]{10}",value:o.phone,onChange:e=>l({...o,phone:e.target.value}),style:{background:"rgba(0,0,0,0.02)",border:"1px solid transparent"}})]}),j.jsxs("div",{style:{marginBottom:"1rem"},children:[j.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,color:"var(--text-muted)",marginBottom:"0.5rem"},children:"Complete Delivery Address"}),j.jsx("textarea",{className:"input-field",placeholder:"House/Flat No., Building Name, Street, Landmark",required:!0,rows:"3",value:o.address,onChange:e=>l({...o,address:e.target.value}),style:{background:"rgba(0,0,0,0.02)",border:"1px solid transparent",resize:"vertical"}})]}),j.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",padding:"0.85rem",background:"rgba(255,152,0,0.1)",borderRadius:"8px",border:"1px dashed rgba(255,152,0,0.3)",color:"var(--text-main)",fontSize:"0.9rem",fontWeight:600},children:[j.jsx("span",{style:{fontSize:"1.2rem"},children:"ðŸ’µ"})," Please keep exact change ready for Cash on Delivery."]}),u&&j.jsx("div",{style:{color:"white",background:"#dc3545",padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",textAlign:"center",fontSize:"0.9rem",fontWeight:600},children:u}),j.jsx("button",{className:"btn btn-block",disabled:c,style:{padding:"1rem",fontSize:"1.1rem",background:"linear-gradient(90deg, #ff5722 0%, #ff9800 100%)",boxShadow:"0 4px 15px rgba(255, 87, 34, 0.4)"},children:c?j.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[j.jsx("span",{className:"spinner",children:"â†»"})," Processing Order..."]}):j.jsxs("span",{children:["Place Order â€¢ â‚¹",x]})})]})]})}const B=e.lazy(()=>k(()=>import("./AdminLogin-BEd459Fh.js"),__vite__mapDeps([0,1,2]))),C=e.lazy(()=>k(()=>import("./AdminDashboard-CW9KJjkb.js"),__vite__mapDeps([3,1,2])));function _(){const[t,r]=e.useState([]),n=(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,qty:Math.max(0,r.qty+t)}:r).filter(e=>e.qty>0))};return j.jsx(s,{children:j.jsxs("div",{className:"app-container",children:[j.jsx("header",{className:"top-nav",children:j.jsx("h1",{children:"Maa Ki Rasoi"})}),j.jsx("main",{className:"main-content",children:j.jsx(e.Suspense,{fallback:j.jsx("div",{style:{padding:"2rem",textAlign:"center",opacity:.7},children:"Loading Maa Ki Rasoi..."}),children:j.jsxs(a,{children:[j.jsx(i,{path:"/",element:j.jsx(N,{cart:t,addToCart:e=>{r(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,qty:t.qty+1}:t):[...t,{...e,qty:1}])},updateQty:n})}),j.jsx(i,{path:"/checkout",element:j.jsx(w,{cart:t,updateQty:n,clearCart:()=>r([])})}),j.jsx(i,{path:"/admin/login",element:j.jsx(B,{})}),j.jsx(i,{path:"/admin/*",element:j.jsx(C,{})})]})})})]})})}n.defaults.baseURL="http://localhost:5000",b.createRoot(document.getElementById("root")).render(j.jsx(o.StrictMode,{children:j.jsx(_,{})}));export{j};
